<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>焼肉ほうび - お客様アンケート</title>
    <style>
        body { font-family: "Helvetica Neue", Arial, sans-serif; text-align: center; background-color: #1a1a1a; color: #fff; padding: 50px 20px; }
        .container { max-width: 400px; margin: 0 auto; border: 1px solid #D4AF37; padding: 30px; border-radius: 10px; }
        h1 { font-size: 1.5rem; margin-bottom: 20px; color: #D4AF37; }
        .stars { font-size: 50px; margin: 30px 0; display: flex; justify-content: center; gap: 8px; cursor: pointer; }
        .star { color: #444; transition: transform 0.1s; }
        .star:active { transform: scale(1.2); } /* タップした瞬間のフィードバック */
        p { font-size: 0.95rem; color: #ccc; line-height: 1.6; }
        .footer-logo { margin-top: 20px; font-weight: bold; color: #D4AF37; }
    </style>
</head>
<body>

<div class="container">
    <div class="footer-logo">焼肉ほうび</div>
    <h1>ご来店ありがとうございました</h1>
    <p>本日の満足度を「星の数」で<br>教えていただけますか？</p>
    
    <div class="stars" id="star-rating">
        <span class="star" data-value="1">★</span>
        <span class="star" data-value="2">★</span>
        <span class="star" data-value="3">★</span>
        <span class="star" data-value="4">★</span>
        <span class="star" data-value="5">★</span>
    </div>
    
    <p>※星をタップするとページが移動します</p>
</div>

<script>
    const stars = document.querySelectorAll('.star');
    
    stars.forEach(star => {
        // タップ/クリックした瞬間に実行
        star.addEventListener('click', () => {
            const rating = parseInt(star.dataset.value);
            
            // 視覚的な選択フィードバック
            highlightStars(rating);
            
            // 少しだけ（0.2秒）余韻を残してからリダイレクト
            setTimeout(() => {
                executeRedirect(rating);
            }, 200);
        });
    });

    function highlightStars(count) {
        stars.forEach(s => {
            s.style.color = s.dataset.value <= count ? '#D4AF37' : '#444';
        });
    }

    function executeRedirect(rate) {
        let targetUrl = "";
        
        if (rate <= 3) {
            // ★1-3の場合：社内用フィードバックページへ (計測用utmパラメータ付与) 
            targetUrl = `https://emoost.site/review/low-rating?rate=${rate}&utm_source=yakiniku-houbi&utm_medium=QRcode`;
        } else {
            // ★4-5の場合：Googleクチコミページへ直接誘導 
            targetUrl = `https://g.page/r/CSW75g-ySMbyEAE/review`;
        }

        window.location.href = targetUrl;
    }
</script>

</body>
</html>